!function(){"use strict";angular.module("nx.widget",[])}(),function(){"use strict";angular.module("nx.widget").directive("nxInfiniteScroll",["$timeout",function(n){function t(t,e,o){if(t.init(),t.enableScroll){var i=parseInt(o.distance)||0,a=parseInt(o.debounce)||600,l=e[0],c=null;e.bind("scroll",function(){n.cancel(c),c=n(function(){l.scrollTop+l.offsetHeight>=l.scrollHeight-i&&t.load()},a)})}}return{restrict:"A",scope:{distance:"@",enableScroll:"=",page:"=",rows:"=",loadData:"&",hasMore:"=",loading:"=",load:"=",items:"="},link:t,controller:["$scope",function(n){function t(){angular.extend({page:1,rows:20,items:[],loading:!1,hasMore:!1},n),e()}function e(){var t,e=n.loadData();n.page++,n.loading=!0,e.then||(e={then:function(n){return function(t){t.call(window,{data:n()})}}(e)}),e.then(function(e){t=e.data,n.items=n.items.concat(t),n.hasMore=t.length===n.rows,n.loading=!1})}n.init=t,n.load=e}]}}])}();