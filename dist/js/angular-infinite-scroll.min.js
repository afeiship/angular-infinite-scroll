!function(){"use strict";angular.module("nx.widget",[])}(),function(){"use strict";angular.module("nx.widget").directive("nxInfiniteScroll",[function(n){function e(n,e,o){n.init();var t=parseInt(o.threshold)||0,i=e[0];e.bind("scroll",function(){i.scrollTop+i.offsetHeight>=i.scrollHeight-t&&console.log("should scroll!")})}return{restrict:"A",scope:{page:"=",rows:"=",loadData:"&",responseHandler:"&",hasMore:"=",loading:"=",load:"=",items:"="},link:e,controller:["$scope",function(n){function e(){angular.extend({page:1,rows:20,items:[],loading:!1,hasMore:!1},n),o()}function o(){var e,o=n.loadData();n.page++,n.loading=!0,o.then||(o={then:function(n){return function(e){e.call(window,{data:n()})}}(o)}),o.then(function(o){e=o.data,n.responseHandler.call(n,e),n.hasMore=e.length===n.rows,n.loading=!1})}function t(e){n.items=n.items.concat(e)}function i(e){n.items=e}n.init=e,n.load=o,n._addItems=t,n._setItems=i,n.responseHandler=n.responseHandler||t}]}}])}();